<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Glowing Bulb (classList.toggle)</title>
  <style>
    :root{
      --off:#222;
      --on:#ffd84d;
      --base:#444;
      --bg:#0f1220;
    }
    body{
      margin:0; min-height:100dvh; display:grid; place-items:center;
      background: radial-gradient(60% 60% at 50% 35%, #1b2040 0%, var(--bg) 60%, #090b14 100%);
      font-family: system-ui, Arial, sans-serif; color:#e7e7e7;
    }
    .wrap{ text-align:center; }
    .bulb{
      width:140px; aspect-ratio:1/1; border-radius:50%;
      background: radial-gradient(circle at 35% 35%, #555 0 30%, var(--off) 70%);
      box-shadow: inset 0 -8px 20px rgba(255,255,255,0.06),
                  0 0 0 2px #0008,
                  0 10px 30px #0006;
      position:relative; cursor:pointer; outline:none; border:none;
      transition: transform .2s ease, filter .2s ease;
    }
    .bulb:active{ transform: scale(0.98); }

    /* filament/holder */
    .bulb::after{
      content:""; position:absolute; inset:auto 0 -30px 0; margin:auto;
      width:70px; height:55px; border-radius:10px;
      background:
        linear-gradient(#777,#444) padding-box,
        linear-gradient(to right, #0000, #0006, #0000) border-box;
      border: 2px solid transparent;
      box-shadow: 0 6px 10px #0007 inset;
    }

    /* ON state */
    .bulb.on{
      background: radial-gradient(circle at 40% 40%, #fff8 0 20%, var(--on) 60%, #f2b800 90%);
      box-shadow:
        0 0 25px 6px #ffd84d66,
        0 0 80px 25px #ffd84d44,
        0 0 160px 70px #ffd84d22,
        inset 0 -10px 25px rgba(255,255,255,0.15);
      animation: pulse 1.8s ease-in-out infinite;
      filter: saturate(1.1);
    }

    /* nice glow on the page when ON */
    .aura{
      width:420px; height:420px; border-radius:50%;
      pointer-events:none; position:absolute; inset:0; margin:auto;
      background: radial-gradient(closest-side, #ffd84d33, #ffd84d00 70%);
      opacity:0; transition: opacity .25s ease;
      filter: blur(1px);
    }
    .aura.show{ opacity:1; }

    @keyframes pulse{
      0%,100%{ box-shadow:
        0 0 22px 6px #ffd84d66,
        0 0 80px 25px #ffd84d44,
        0 0 160px 70px #ffd84d22,
        inset 0 -10px 25px rgba(255,255,255,0.15); }
      50%{ box-shadow:
        0 0 32px 10px #ffd84d88,
        0 0 110px 40px #ffd84d55,
        0 0 190px 90px #ffd84d33,
        inset 0 -10px 25px rgba(255,255,255,0.2); }
    }

    .controls{ margin-top:18px; display:flex; gap:10px; justify-content:center; }
    button.toggle{
      padding:.7rem 1.1rem; border-radius:999px; border:1px solid #ffffff22;
      background:#1e2240; color:#eaeaff; cursor:pointer;
    }
    button.toggle:hover{ background:#262b56; }
    .hint{ opacity:.75; font-size:.9rem; margin-top:8px; }
  </style>
</head>
<body>
  <div class="wrap">
    <div style="position:relative; width:420px; height:420px;">
      <div class="aura" id="aura"></div>
      <button id="bulb" class="bulb" aria-pressed="false" aria-label="Light bulb (click to toggle)"></button>
    </div>

    <div class="controls">
      <button class="toggle" id="toggleBtn">Toggle Bulb</button>
      <button class="toggle" id="flickerBtn">Flicker x5</button>
    </div>
    <div class="hint">Tip: click the bulb, press the button, or hit the <b>Space</b> key.</div>
  </div>

  <script>
    const bulb   = document.getElementById('bulb');
    const aura   = document.getElementById('aura');
    const toggle = document.getElementById('toggleBtn');
    const flick  = document.getElementById('flickerBtn');

    function toggleBulb(force){
      // classList.toggle with optional second argument for explicit state
      const isOn = bulb.classList.toggle('on', force === undefined ? undefined : !!force);
      // reflect state in UI/accessibility
      bulb.setAttribute('aria-pressed', bulb.classList.contains('on'));
      aura.classList.toggle('show', bulb.classList.contains('on'));
    }

    // click handlers
    bulb.addEventListener('click', () => toggleBulb());
    toggle.addEventListener('click', () => toggleBulb());

    // keyboard (space toggles)
    window.addEventListener('keydown', (e)=>{
      if(e.code === 'Enter'){ e.preventDefault(); toggleBulb(); }
    });

    // fun: quick flicker using repeated toggle
    flick.addEventListener('click', () => {
      let i = 0;
      const id = setInterval(()=>{
        toggleBulb();
        if(++i >= 10){ // 10 toggles â‰ˆ 5 flashes
          clearInterval(id);
          toggleBulb(true); // leave it ON at the end
        }
      }, 120);
    });

    // start OFF
    toggleBulb(false);
  </script>
</body>
</html>
